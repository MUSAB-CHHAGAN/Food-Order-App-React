{"ast":null,"code":"import _slicedToArray from\"/home/abbas/Desktop/react apps/FOOD ORDER APP/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/home/abbas/Desktop/react apps/FOOD ORDER APP/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/abbas/Desktop/react apps/FOOD ORDER APP/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/** @format */import CartContext from\"./cart-context\";import{useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var daefaultCart={items:[],totalAmount:0};var cartReducer=function cartReducer(state,action){if(action.type===\"ADD\"){var updatedAmount=state.totalAmount+action.item.amount*action.item.price;var updatedItems;var existingCartItemIndex=state.items.findIndex(function(item){return item.id===action.item.id;});var existingCartItem=state.items[existingCartItemIndex];if(existingCartItem){var updatedItem=_objectSpread(_objectSpread({},existingCartItem),{},{amount:existingCartItem.amount+action.item.amount});updatedItems=_toConsumableArray(state.items);console.log(updatedItem);updatedItems[existingCartItemIndex]=updatedItem;}else{updatedItems=state.items.concat(action.item);}return{items:updatedItems,totalAmount:updatedAmount};}if(action.type===\"REMOVE\"){var _existingCartItemIndex=state.items.findIndex(function(item){return item.id===action.id;});var _existingCartItem=state.items[_existingCartItemIndex];var _updatedItems;var _updatedAmount=state.totalAmount-_existingCartItem.price;if(_existingCartItem.amount===1){_updatedItems=state.items.filter(function(item){return item.id!==action.id;});}else{var _updatedItem=_objectSpread(_objectSpread({},_existingCartItem),{},{amount:_existingCartItem.amount-1});_updatedItems=_toConsumableArray(state.items);_updatedItems[_existingCartItemIndex]=_updatedItem;}return{items:_updatedItems,totalAmount:_updatedAmount};}if(action.type=\"ONE\"){var _updatedItems2;var _existingCartItemIndex2=state.items.findIndex(function(item){return item.id===action.id;});var _existingCartItem2=state.items[_existingCartItemIndex2];if(_existingCartItem2){var _updatedItem2=_objectSpread(_objectSpread({},_existingCartItem2),{},{amount:_existingCartItem2.amount+1});_updatedItems2=_toConsumableArray(state.items);_updatedItems2[_existingCartItemIndex2]=_updatedItem2;}var _updatedAmount2=state.totalAmount+_existingCartItem2.price;return{items:_updatedItems2,totalAmount:_updatedAmount2};}};var CartProvider=function CartProvider(props){var _useReducer=useReducer(cartReducer,daefaultCart),_useReducer2=_slicedToArray(_useReducer,2),cartState=_useReducer2[0],dispatchCart=_useReducer2[1];var oneItemHandler=function oneItemHandler(id){dispatchCart({type:\"ONE\",id:id});};var onAddItemHandler=function onAddItemHandler(item){dispatchCart({type:\"ADD\",item:item});};var onRemoveItemHandler=function onRemoveItemHandler(id){dispatchCart({type:\"REMOVE\",id:id});};var cartValue={items:cartState.items,totalAmount:cartState.totalAmount,amount:cartState.amount,addItem:onAddItemHandler,removeItem:onRemoveItemHandler,oneItem:oneItemHandler};return/*#__PURE__*/_jsx(CartContext.Provider,{value:cartValue,children:props.children});};export default CartProvider;","map":{"version":3,"names":["CartContext","useReducer","daefaultCart","items","totalAmount","cartReducer","state","action","type","updatedAmount","item","amount","price","updatedItems","existingCartItemIndex","findIndex","id","existingCartItem","updatedItem","console","log","concat","filter","CartProvider","props","cartState","dispatchCart","oneItemHandler","onAddItemHandler","onRemoveItemHandler","cartValue","addItem","removeItem","oneItem","children"],"sources":["/home/abbas/Desktop/react apps/FOOD ORDER APP/src/store/CartProvider.js"],"sourcesContent":["/** @format */\nimport CartContext from \"./cart-context\";\nimport { useReducer } from \"react\";\n\nconst daefaultCart = { items: [], totalAmount: 0 };\nconst cartReducer = (state, action) => {\n  if (action.type === \"ADD\") {\n    let updatedAmount =\n      state.totalAmount + action.item.amount * action.item.price;\n    let updatedItems;\n\n    const existingCartItemIndex = state.items.findIndex(\n      item => item.id === action.item.id\n    );\n    const existingCartItem = state.items[existingCartItemIndex];\n\n    if (existingCartItem) {\n      const updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount + action.item.amount,\n      };\n\n      updatedItems = [...state.items];\n      console.log(updatedItem);\n      updatedItems[existingCartItemIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedAmount,\n    };\n  }\n  if (action.type === \"REMOVE\") {\n    const existingCartItemIndex = state.items.findIndex(\n      item => item.id === action.id\n    );\n    const existingCartItem = state.items[existingCartItemIndex];\n    let updatedItems;\n    const updatedAmount = state.totalAmount - existingCartItem.price;\n    if (existingCartItem.amount === 1) {\n      updatedItems = state.items.filter(\n        item => item.id !== action.id\n      );\n    } else {\n      const updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount - 1,\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n    return { items: updatedItems, totalAmount: updatedAmount };\n  }\n  if ((action.type = \"ONE\")) {\n    let updatedItems;\n    const existingCartItemIndex = state.items.findIndex(\n      item => item.id === action.id\n    );\n    const existingCartItem = state.items[existingCartItemIndex];\n    if (existingCartItem) {\n      const updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount + 1,\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n    let updatedAmount = state.totalAmount + existingCartItem.price;\n    return { items: updatedItems, totalAmount: updatedAmount };\n  }\n};\nconst CartProvider = props => {\n  const [cartState, dispatchCart] = useReducer(\n    cartReducer,\n    daefaultCart\n  );\n  const oneItemHandler = id => {\n    dispatchCart({ type: \"ONE\", id: id });\n  };\n\n  const onAddItemHandler = item => {\n    dispatchCart({ type: \"ADD\", item: item });\n  };\n  const onRemoveItemHandler = id => {\n    dispatchCart({ type: \"REMOVE\", id: id });\n  };\n\n  const cartValue = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    amount: cartState.amount,\n    addItem: onAddItemHandler,\n    removeItem: onRemoveItemHandler,\n    oneItem: oneItemHandler,\n  };\n  return (\n    <CartContext.Provider value={cartValue}>\n      {props.children}\n    </CartContext.Provider>\n  );\n};\nexport default CartProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}